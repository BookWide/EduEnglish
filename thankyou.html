<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BookWide | 完成訂單</title>
  <style>
    :root { --txt:#111827; --muted:#6b7280; --ok:#059669; --pending:#f59e0b; --fail:#dc2626; }
    html,body{background:#fff; color:var(--txt); font-family:system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", Arial, "Microsoft JhengHei", sans-serif; margin:0}
    .wrap{max-width:880px; margin:40px auto; padding:0 16px}
    h1{margin:0 0 8px 0; font-size:28px}
    p{margin:8px 0; font-size:16px}
    .muted{color:var(--muted)}
    .card{border:1px solid #e5e7eb; border-radius:12px; padding:24px; margin-top:16px}
    .tag{display:inline-block; padding:4px 10px; border-radius:999px; font-size:14px; color:#fff}
    .ok{background:var(--ok)}
    .pd{background:var(--pending)}
    .fail{background:var(--fail)}
    a.btn{display:inline-block; margin-top:16px; padding:12px 16px; border:1px solid #111827; border-radius:10px; text-decoration:none; color:#111827}
    .note{font-size:14px; color:var(--muted); margin-top:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>完成訂單</h1>
    <p class="muted">感謝你的支持！以下是訂單處理結果：</p>

    <div class="card">
      <p>訂單編號：<span id="ord" class="muted">—</span></p>
      <p>狀態：<span id="stTag" class="tag">—</span></p>
      <p id="msg">系統正在處理中…</p>
      <a class="btn" href="./index.html">回到首頁</a>
      <div class="note">若你剛完成付款，系統需要一點時間對帳；若顯示「處理中」，稍晚重新整理即可。</div>
    </div>
  </div>

  <script>
  (function(){
    const usp = new URLSearchParams(location.search);
    const status = usp.get('status') || 'pending';   // success | pending | fail
    const order  = usp.get('order')  || '—';

    document.getElementById('ord').textContent = order;

    const st = document.getElementById('stTag');
    const msg = document.getElementById('msg');

    if (status === 'success') {
      st.textContent = '付款完成';
      st.className = 'tag ok';
      msg.textContent = '你的會員資格將立即生效，祝學習愉快！';
    } else if (status === 'fail') {
      st.textContent = '付款失敗';
      st.className = 'tag fail';
      msg.textContent = '交易未完成，建議回到定價頁重新下單，或聯繫客服協助。';
    } else {
      st.textContent = '處理中';
      st.className = 'tag pd';
      msg.textContent = '我們已收到訂單，正在確認款項，完成後會自動開通。';
    }
  })();
  </script>
</body>
</html>
