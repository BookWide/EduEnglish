<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BookWide｜結帳</title>
  <style>
    :root {
      --bg: #0b1220;
      --panel: #111a2b;
      --muted: #a3b1c6;
      --text: #e7eefc;
      --accent: #1dde6b;
      --chip: #17243a;
      --line: #1a2a46;
      --danger: #ff6b6b;
    }
    html,body {margin:0;height:100%;background:var(--bg);color:var(--text);font-family: ui-sans-serif, -apple-system, "Noto Sans TC", "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    .wrap {max-width:960px;margin:0 auto;padding:24px;}
    a.back {display:inline-flex;gap:8px;align-items:center;color:var(--muted);text-decoration:none;margin-bottom:14px}
    .card {background:var(--panel);border-radius:14px;padding:20px 22px;border:1px solid var(--line)}
    h1 {font-weight:700;font-size:22px;margin:0 0 10px}
    .pill {display:inline-block;background:var(--chip);padding:5px 10px;border-radius:999px;color:var(--muted);font-size:12px}
    .row{display:flex;justify-content:space-between;align-items:center;padding:14px 0;border-bottom:1px dashed var(--line)}
    .row:last-child{border-bottom:none}
    .label{color:var(--muted)}
    .val{font-variant-numeric:tabular-nums}
    .items{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
    .chip{background:var(--chip);border:1px solid var(--line);padding:6px 10px;border-radius:999px}
    #referral{margin:10px 0 4px}
    #referral .ok{color:var(--accent)}
    #referral .none{color:var(--muted)}
    #discount-row{display:none}
    .btn {
      margin-top:18px;width:100%;padding:18px 16px;border-radius:12px;
      background:var(--accent);color:#001a0d;border:none;font-weight:700;font-size:16px;cursor:pointer;
    }
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .hint{color:var(--muted);font-size:12px;margin-top:10px}
    .danger{color:var(--danger)}
  </style>
</head>
<body>
  <div class="wrap">
    <a class="back" href="pricing.html">← 返回方案與定價</a>

    <div class="card">
      <h1>訂單摘要</h1>
      <div class="pill" id="period-pill">週期：—</div>

      <div style="margin-top:12px">
        <div class="label">方案：</div>
        <div class="items" id="plan-list"></div>
      </div>

      <div id="referral"></div>

      <div class="row">
        <div class="label">小計</div>
        <div class="val" id="subtotal">$0</div>
      </div>
      <div class="row" id="discount-row">
        <div class="label">折扣（推薦碼）</div>
        <div class="val" id="discount">-$0</div>
      </div>
      <div class="row">
        <div class="label">稅額（0%）</div>
        <div class="val">$0</div>
      </div>
      <div class="row">
        <strong>應付金額</strong>
        <strong class="val" id="total">$0</strong>
      </div>

      <button id="checkoutBtn" class="btn">確認付款</button>
      <div class="hint">按下「確認付款」後，會導向綠界金流頁面完成付款。</div>
      <div class="hint danger" id="err" style="display:none"></div>
    </div>
  </div>

  <!-- 你的 supa.js 應放在同層 -->
  <script type="module" src="./checkout-referral.js"></script>
</body>
</html>










