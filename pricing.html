<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BookWide | 方案與定價</title>
  <style>
    :root{
      --bg:#0b1324; --panel:#0f1b31; --ink:#eaf1ff; --muted:#9bb0d1;
      --line:#203250; --accent:#4e79ff; --accent-2:#22c55e;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);
         font-family:ui-sans-serif,system-ui,"Noto Sans TC",Arial}
    .wrap{max-width:1200px;margin:0 auto;padding:24px}
    a.back{color:var(--muted);text-decoration:none}
    h1{font-size:28px;margin:10px 0 22px}

    /* 卡片列（5 欄） */
    .cards{display:grid;grid-template-columns:repeat(5,1fr);gap:16px}
    .card{
      background:var(--panel); border:1px solid var(--line); border-radius:14px;
      padding:20px; display:flex; flex-direction:column; gap:10px; min-height:320px;
    }
    .card h3{margin:0 0 8px; font-size:22px}
    .price{font-size:28px;margin:2px 0 8px}
    .feat{color:var(--muted);font-size:14px;line-height:1.65}
    .choose{margin-top:auto;display:flex;align-items:center;gap:8px}
    .choose input{width:20px;height:20px}

    /* 週期與合計 */
    .section{margin-top:26px;padding:16px;border:1px solid var(--line);border-radius:12px;background:#0e1a2f}
    .period{display:flex;gap:28px;align-items:center;flex-wrap:wrap}
    .period label{display:flex;align-items:center;gap:8px}
    .sum{margin-top:10px;color:#cfe2ff}

    /* 底部動作 */
    .actions{margin-top:16px;display:flex;justify-content:flex-end}
    .btn{
      background:#1f2b47;border:1px solid var(--line);border-radius:12px;
      padding:12px 18px;color:#fff;cursor:pointer;font-weight:700;
    }
    .btn.primary{background:var(--accent-2);border-color:#169a48}
    .hint{margin-top:8px;color:var(--muted)}
    @media (max-width:1100px){ .cards{grid-template-columns:repeat(3,1fr)} }
    @media (max-width:760px){ .cards{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:520px){ .cards{grid-template-columns:1fr} }
  </style>
</head>
<body>
<div class="wrap">
  <a class="back" href="./index.html">← 回首頁</a>
  <h1>BookWide | 方案與定價</h1>

  <!-- 方案卡片（五張） -->
  <div class="cards">
    <div class="card">
      <h3>故事 Story</h3>
      <div class="price">NT$200 / 月</div>
      <ul class="feat">
        <li>分級故事影片與字幕</li>
        <li>單字 / 文法 / 閱讀測驗</li>
        <li>可列印成績單</li>
      </ul>
      <label class="choose"><input type="checkbox" data-id="story"> 勾選這個主題</label>
    </div>

    <div class="card">
      <h3>音樂 Music</h3>
      <div class="price">NT$200 / 月</div>
      <ul class="feat">
        <li>歌曲影片、歌詞雙語字幕</li>
        <li>關鍵單語小測驗</li>
        <li>收藏精選歌曲</li>
      </ul>
      <label class="choose"><input type="checkbox" data-id="music"> 勾選這個主題</label>
    </div>

    <div class="card">
      <h3>電影 Movie</h3>
      <div class="price">NT$200 / 月</div>
      <ul class="feat">
        <li>電影片段學英文</li>
        <li>情境會話 / 片語重點</li>
        <li>主題測驗可列印</li>
      </ul>
      <label class="choose"><input type="checkbox" data-id="movie"> 勾選這個主題</label>
    </div>

    <div class="card">
      <h3>新聞 News</h3>
      <div class="price">NT$200 / 月</div>
      <ul class="feat">
        <li>國際新聞精讀</li>
        <li>重點單字 / 時事測驗</li>
        <li>每週更新</li>
      </ul>
      <label class="choose"><input type="checkbox" data-id="news"> 勾選這個主題</label>
    </div>

    <div class="card">
      <h3>專業行業 Professional</h3>
      <div class="price">NT$200 / 月</div>
      <ul class="feat">
        <li>商務 / 科技 / 設計等領域</li>
        <li>情境對話與案例</li>
        <li>術語與條列分析</li>
      </ul>
      <label class="choose"><input type="checkbox" data-id="pro"> 勾選這個主題</label>
    </div>
  </div>

  <!-- 週期選擇 + 合計 -->
  <div class="section">
    <div class="period">
      <strong>選擇方案週期：</strong>
      <label><input type="radio" name="period" value="month" checked> 月繳 NT$200 / 主題</label>
      <label><input type="radio" name="period" value="halfyear"> 半年 NT$960 / 主題</label>
      <label><input type="radio" name="period" value="year"> 年繳 NT$1680 / 主題</label>
    </div>
    <div id="summary" class="sum">0 個主題，週期 月繳，合計 NT$0</div>
  </div>

  <!-- 前往結帳（只跳轉，不送綠界） -->
  <div class="actions">
    <button id="btnGo" class="btn primary">前往結帳</button>
  </div>
  <div class="hint">按下「前往結帳」會跳到 <code>checkout.html</code> 顯示訂單摘要；確認付款後才會串接綠界。</div>
</div>

<script>
  // 價格表
  const PRICE = { month:200, halfyear:960, year:1680 };
  const PERIOD_NAME = { month:'月繳', halfyear:'半年', year:'年繳' };

  // 取目前網址上的 ref（若有就轉傳給 checkout.html）
  const urlParams = new URLSearchParams(location.search);
  const refFromURL = urlParams.get('ref') || '';

  // 勾選集合
  const picked = new Set();
  const $sum = document.getElementById('summary');

  function refreshSummary(){
    const period = document.querySelector('input[name="period"]:checked').value;
    const total = (PRICE[period] * picked.size) || 0;
    $sum.textContent = `${picked.size} 個主題，週期 ${PERIOD_NAME[period]}，合計 NT$${total.toLocaleString()}`;
  }
  // 勾選事件
  document.querySelectorAll('.choose input[type="checkbox"]').forEach(chk=>{
    chk.addEventListener('change',()=>{
      chk.checked ? picked.add(chk.dataset.id) : picked.delete(chk.dataset.id);
      refreshSummary();
    });
  });
  // 週期變更
  document.querySelectorAll('input[name="period"]').forEach(r=>{
    r.addEventListener('change', refreshSummary);
  });
  refreshSummary();

  // 前往結帳（只跳轉）
  document.getElementById('btnGo').addEventListener('click',()=>{
    if (picked.size === 0) {
      alert('請至少勾選一個主題');
      return;
    }
    const period = document.querySelector('input[name="period"]:checked').value;
    const items = Array.from(picked).join(',');
    const params = new URLSearchParams();
    params.set('items', items);
    params.set('period', period);
    // 有 ref 就帶過去；沒有也不影響結帳頁面
    if (refFromURL) params.set('ref', refFromURL);

    // 跳轉到 checkout.html（不觸發任何金流請求）
    location.href = `checkout.html?${params.toString()}`;
  });
</script>
</body>
</html>


















