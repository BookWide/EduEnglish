<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BookWide｜方案與定價</title>
  <style>
    :root{--bg:#0b1324;--card:#0f172a;--ink:#e6f0ff;--muted:#9fb0c9;--line:#1f2a44;--accent:#22c55e}
    *{box-sizing:border-box} html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,"Noto Sans TC",Segoe UI,Roboto,Arial}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:22px 16px 40px}
    .top{margin-bottom:18px}
    .title{font-size:28px;font-weight:800}
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:18px}
    .card h3{margin:0 0 10px;font-size:22px}
    .price{font-size:26px;font-weight:900;margin:6px 0 10px}
    .muted{color:var(--muted)}
    .radio{display:flex;align-items:center;gap:8px;margin-top:12px}
    .actions{margin-top:22px;display:flex;align-items:center;gap:12px;flex-wrap:wrap}
    .btn{background:#1a2a46;border:1px solid #27456f;border-radius:12px;padding:10px 14px;color:#fff;cursor:pointer;font-weight:700}
    .btn.go{background:var(--accent);border-color:#16a34a;color:#05210a}
    .row{margin-top:16px;border:1px dashed var(--line);border-radius:12px;padding:14px}
    .plan{display:flex;flex-direction:column;gap:10px}
    .plan .opt{display:flex;align-items:center;gap:10px;background:#0d1a2b;border:1px solid var(--line);padding:12px;border-radius:12px;cursor:pointer}
    .plan input{width:18px;height:18px}
    @media (max-width:920px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <a href="index.html" class="muted">← 回首頁</a>
      <div class="title">BookWide｜方案與定價</div>
    </div>

    <!-- 方案卡（純展示；實際選擇在下面「選擇方案」區塊） -->
    <div class="grid" aria-hidden="true">
      <div class="card">
        <h3>故事 Story</h3>
        <div class="price">NT$200 / 月</div>
        <div class="muted">重點單字／雙語字幕／主題測驗／可列印成績單</div>
      </div>
      <div class="card">
        <h3>音樂 Music</h3>
        <div class="price">NT$200 / 月</div>
        <div class="muted">重點單字／雙語字幕／主題測驗／可列印成績單</div>
      </div>
      <div class="card">
        <h3>電影 Movie</h3>
        <div class="price">NT$200 / 月</div>
        <div class="muted">重點單字／雙語字幕／主題測驗／可列印成績單</div>
      </div>
    </div>

    <!-- 真正的選擇區（以 radio 決定 plan/term）；這頁不會送到綠界 -->
    <div class="row">
      <div class="muted">請選擇方案</div>
      <div class="plan" id="planGroup">
        <label class="opt"><input type="radio" name="plan" value="story" checked><strong>故事 Story</strong></label>
        <label class="opt"><input type="radio" name="plan" value="music"><strong>音樂 Music</strong></label>
        <label class="opt"><input type="radio" name="plan" value="movie"><strong>電影 Movie</strong></label>
      </div>
    </div>

    <div class="row">
      <div class="muted">請選擇付費週期</div>
      <div class="radio"><input type="radio" name="term" value="month" id="t1" checked><label for="t1">月繳 NT$200 / 主題</label></div>
      <div class="radio"><input type="radio" name="term" value="half"  id="t2"><label for="t2">半年 NT$960 / 主題</label></div>
      <div class="radio"><input type="radio" name="term" value="year"  id="t3"><label for="t3">年繳 NT$1680 / 主題</label></div>
    </div>

    <div class="actions">
      <button class="btn go" id="btnCheckout">前往結帳</button>
      <span class="muted" id="hint">按下前往結帳後，會跳轉到 <code>checkout.html</code> 顯示訂單摘要，確認付款時才會串接綠界。</span>
    </div>
  </div>

  <script>
    // ---- 讀取網址推薦碼（ref），並在跳轉時一起帶到 checkout.html ----
    const qs = new URLSearchParams(location.search);
    const ref = (qs.get('ref') || '').trim();

    function getSelected(name){
      const el = document.querySelector('input[name="'+name+'"]:checked');
      return el ? el.value : '';
    }

    document.getElementById('btnCheckout').addEventListener('click', () => {
      const plan = getSelected('plan');   // story / music / movie
      const term = getSelected('term');   // month / half / year
      if (!plan || !term) { alert('請選擇方案與週期'); return; }

      const next = new URLSearchParams({ plan, term });
      if (ref) next.set('ref', ref);      // 把推薦碼往下帶

      // ✅ 正確流程：跳到 checkout.html，由那一頁顯示摘要並送綠界
      location.href = `checkout.html?${next.toString()}`;
    });
  </script>
</body>
</html>

















