<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>BookWide | 方案與定價</title>
  <style>
    :root{
      --bg:#ffffff; --text:#111827; --muted:#6b7280; --accent:#111827;
      --chip:#111827; --chipText:#ffffff; --border:#e5e7eb; --btn:#111827; --btnText:#ffffff;
      --card:#ffffff; --shadow:0 8px 20px rgba(0,0,0,.05);
    }
    html,body{background:var(--bg); color:var(--text); font-family: -apple-system, BlinkMacSystemFont,"Segoe UI", Roboto, "Noto Sans", "Helvetica Neue", Arial, "Microsoft JhengHei", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji", sans-serif; margin:0; line-height:1.6;}
    .wrap{max-width:1100px; margin:36px auto; padding:0 20px;}
    h1{font-size:32px; margin:0 0 8px 0}
    .sub{color:var(--muted); margin-bottom:24px}
    .grid{display:grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap:18px;}
    .card{background:var(--card); border:1px solid var(--border); border-radius:16px; padding:18px 18px 16px 18px; box-shadow:var(--shadow);}
    .title{font-size:22px; font-weight:700; margin-bottom:6px}
    .price{font-size:24px; font-weight:800; margin:8px 0 10px 0}
    ul{margin:8px 0 12px 18px; padding:0}
    li{margin:6px 0}
    .pick{display:flex; align-items:center; gap:8px; margin-top:10px; user-select:none;}
    .row{display:flex; align-items:center; gap:18px; flex-wrap:wrap; margin-top:22px; padding-top:16px; border-top:1px solid var(--border);}
    .pill{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:16px; font-size:13px; background:var(--chip); color:var(--chipText);}
    .notice{color:var(--muted); font-size:13px; margin-top:12px}
    .btn{display:inline-block; background:var(--btn); color:var(--btnText); padding:14px 22px; border-radius:12px; font-weight:700; text-decoration:none; border:0; cursor:pointer}
    .tot{font-weight:700}
    .periods{display:flex; gap:16px; align-items:center; flex-wrap:wrap; margin-top:10px}
    .totalLine{margin-top:6px}
    .footer{margin-top:26px; color:var(--muted); font-size:13px}
    .right{display:flex; justify-content:flex-end; margin-top:18px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>BookWide | 方案與定價</h1>
    <div class="sub">每個主題皆為 NT$200 / 月；你可以一次勾選多個主題，一筆訂單一起結帳。</div>

    <div class="grid">
      <div class="card">
        <div class="title">故事 Story</div>
        <div class="price">NT$200 / 月</div>
        <ul>
          <li>分級故事影片與字幕</li><li>單字 / 文法 / 閱讀測驗</li><li>可列印成績單</li>
        </ul>
        <label class="pick"><input type="checkbox" class="item" value="story"> 勾選這個主題</label>
      </div>

      <div class="card">
        <div class="title">音樂 Music</div>
        <div class="price">NT$200 / 月</div>
        <ul>
          <li>歌曲影片、歌詞雙語字幕</li><li>關鍵單詞小測驗</li><li>收藏精選歌曲</li>
        </ul>
        <label class="pick"><input type="checkbox" class="item" value="music"> 勾選這個主題</label>
      </div>

      <div class="card">
        <div class="title">電影 Movie</div>
        <div class="price">NT$200 / 月</div>
        <ul>
          <li>電影片段學英文</li><li>情境會話 / 片語重點</li><li>主題測驗可列印</li>
        </ul>
        <label class="pick"><input type="checkbox" class="item" value="movie"> 勾選這個主題</label>
      </div>

      <div class="card">
        <div class="title">新聞 News</div>
        <div class="price">NT$200 / 月</div>
        <ul>
          <li>國際新聞精讀</li><li>重點單字 / 時事測驗</li><li>每週更新</li>
        </ul>
        <label class="pick"><input type="checkbox" class="item" value="news"> 勾選這個主題</label>
      </div>

      <div class="card">
        <div class="title">專業行業 Professional</div>
        <div class="price">NT$200 / 月</div>
        <ul>
          <li>商務 / 科技 / 設計等領域</li><li>商務情境對話</li><li>術語與案例剖析</li>
        </ul>
        <label class="pick"><input type="checkbox" class="item" value="pro"> 勾選這個主題</label>
      </div>
    </div>

    <div class="row">
      <div class="pill">選擇方案週期：</div>
      <div class="periods">
        <label><input type="radio" name="period" value="month" checked> 月繳 NT$200 / 主題</label>
        <label><input type="radio" name="period" value="half"> 半年 NT$960 / 主題</label>
        <label><input type="radio" name="period" value="year"> 年繳 NT$1680 / 主題</label>
      </div>
    </div>

    <div class="row totalLine">
      <div class="pill">已選 <span id="count">0</span> 個主題，合計 <span id="sum" class="tot">NT$0</span></div>
      <div class="right"><button id="go" class="btn">前往結帳</button></div>
    </div>

    <div class="footer">點擊後將導向結帳頁（checkout.html），並自動帶上你已勾選的主題與週期。若有推薦碼也會一併帶上。</div>
  </div>

  <script>
  (function(){
    const UNIT = { month:200, half:960, year:1680 };
    const usp = new URLSearchParams(location.search);
    const refFromUrl = usp.get('ref') || '';
    if (refFromUrl) localStorage.setItem('referral_code', refFromUrl);

    const items = [...document.querySelectorAll('.item')];
    const radios = [...document.querySelectorAll('input[name=period]')];
    const elCount = document.getElementById('count');
    const elSum = document.getElementById('sum');
    const btn = document.getElementById('go');

    function currentPeriod(){
      return (radios.find(r=>r.checked)?.value) || 'month';
    }
    function calc(){
      const n = items.filter(i=>i.checked).length;
      elCount.textContent = n;
      const total = n * (UNIT[currentPeriod()]||UNIT.month);
      elSum.textContent = 'NT$' + (total||0);
    }
    items.forEach(i=>i.addEventListener('change', calc));
    radios.forEach(r=>r.addEventListener('change', calc));
    calc();

    btn.addEventListener('click', ()=>{
      const selected = items.filter(i=>i.checked).map(i=>i.value);
      if (selected.length === 0){ alert('請先勾選至少 1 個主題'); return; }
      const period = currentPeriod();
      const params = new URLSearchParams({ items: selected.join(','), period });
      const ref = refFromUrl || localStorage.getItem('referral_code') || '';
      if (ref) params.set('ref', ref);
      location.href = './checkout.html?' + params.toString();
    });
  })();
  </script>
</body>
</html>













