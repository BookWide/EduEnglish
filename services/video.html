<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>服務導覽影片｜BookWide</title>
  <meta name="description" content="BookWide 服務導覽：免費試看與功能介紹影片。" />
  <style>
    :root{
      --bg0:#07121f;
      --bg1:#0a1b2e;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.12);
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --muted2: rgba(255,255,255,.55);
      --btn: rgba(110,231,183,.95);
      --btn2: rgba(96,165,250,.95);
      --danger: rgba(248,113,113,.95);
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --r: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--txt);
      background:
        radial-gradient(900px 600px at 18% 18%, rgba(59,130,246,.25), transparent 60%),
        radial-gradient(700px 500px at 80% 30%, rgba(16,185,129,.18), transparent 60%),
        radial-gradient(900px 700px at 70% 90%, rgba(244,114,182,.12), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* Top bar (極精簡，避免拉高手機頭頂畫面) */
    .top{
      position:sticky; top:0; z-index:5;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(3,10,18,.78), rgba(3,10,18,.45));
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .topin{
      max-width:1100px;
      margin:0 auto;
      padding:10px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      min-width:0;
    }
    .logo{
      width:28px;height:28px;border-radius:10px;
      background: radial-gradient(circle at 30% 30%, rgba(96,165,250,1), rgba(16,185,129,1));
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      flex:0 0 auto;
    }
    .btxt{
      display:flex; flex-direction:column; line-height:1.05;
      min-width:0;
    }
    .btxt strong{
      font-size:14px; letter-spacing:.2px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .btxt span{
      font-size:11px; color:var(--muted2);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .nav{
      display:flex; gap:8px; align-items:center;
      flex:0 0 auto;
    }
    .chip{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:var(--txt);
      text-decoration:none;
      padding:8px 10px;
      border-radius:999px;
      font-size:12px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      cursor:pointer;
      user-select:none;
    }
    .chip:active{transform: translateY(1px)}
    .dot{
      width:8px;height:8px;border-radius:99px;
      background: rgba(110,231,183,.95);
      box-shadow: 0 0 0 4px rgba(110,231,183,.15);
    }

    /* Page */
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:14px 14px 22px;
    }
    .hero{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:14px;
      margin:12px 0 12px;
    }
    .hero h1{
      margin:0;
      font-size:18px;
      letter-spacing:.2px;
    }
    .hero p{
      margin:6px 0 0;
      color:var(--muted);
      font-size:12px;
      max-width:640px;
    }
    .hint{
      color:var(--muted2);
      font-size:11px;
      text-align:right;
      line-height:1.2;
      white-space:nowrap;
    }

    /* Cards */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:10px;
    }
    .card{
      background: linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid rgba(255,255,255,.12);
      border-radius: var(--r);
      box-shadow: 0 10px 30px rgba(0,0,0,.22);
      padding:12px;
      min-height:120px;
      display:flex;
      flex-direction:column;
      gap:10px;
      position:relative;
      overflow:hidden;
    }
    .card:before{
      content:"";
      position:absolute; inset:-80px -80px auto auto;
      width:180px;height:180px;border-radius:50%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), transparent 60%);
      transform: rotate(18deg);
      opacity:.55;
      pointer-events:none;
    }
    .row{
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      position:relative;
    }
    .ic{
      width:34px;height:34px;border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      display:flex; align-items:center; justify-content:center;
      flex:0 0 auto;
    }
    .ic svg{opacity:.92}
    .t{
      flex:1 1 auto;
      min-width:0;
    }
    .t strong{
      display:block;
      font-size:14px;
      margin:1px 0 4px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .t span{
      display:block;
      font-size:12px;
      color:var(--muted);
      line-height:1.35;
      height:2.7em;
      overflow:hidden;
    }
    .btns{
      display:flex; gap:8px; align-items:center;
      margin-top:auto;
      position:relative;
    }
    .btn{
      border:none;
      border-radius:12px;
      padding:10px 10px;
      font-size:12px;
      font-weight:700;
      cursor:pointer;
      color:#042018;
      background: var(--btn);
      flex:0 0 auto;
      display:inline-flex;
      align-items:center;
      gap:8px;
      box-shadow: 0 12px 30px rgba(0,0,0,.25);
    }
    .btn.secondary{
      background: rgba(255,255,255,.12);
      color: var(--txt);
      border:1px solid rgba(255,255,255,.14);
      box-shadow:none;
    }
    .btn:active{transform: translateY(1px)}
    .filetag{
      margin-left:auto;
      color: rgba(255,255,255,.78);
      font-size:12px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.12);
      border-radius:12px;
      padding:9px 10px;
      white-space:nowrap;
      max-width:48%;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* Bottom small section */
    .foot{
      margin-top:10px;
      display:flex;
      gap:10px;
      align-items:stretch;
    }
    .foot .box{
      flex:1 1 0;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-radius: var(--r);
      padding:10px 12px;
      color: var(--muted);
      font-size:12px;
      line-height:1.4;
    }
    .foot .box b{color:var(--txt)}
    .foot .box .mini{
      margin-top:6px;
      display:flex; gap:8px; flex-wrap:wrap;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      font-size:12px;
      color: rgba(255,255,255,.82);
      text-decoration:none;
      cursor:pointer;
    }

    /* Modal player */
    .modal{
      position:fixed; inset:0;
      background: rgba(0,0,0,.62);
      display:none;
      align-items:center;
      justify-content:center;
      padding:14px;
      z-index:50;
    }
    .modal.show{display:flex}
    .panel{
      width:min(980px, 100%);
      background: rgba(8,16,28,.92);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .mhead{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding:10px 12px;
      border-bottom:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    }
    .mhead .title{
      min-width:0;
    }
    .mhead .title strong{
      display:block; font-size:13px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .mhead .title span{
      display:block; font-size:11px; color:var(--muted2);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .close{
      border:none;
      background: rgba(255,255,255,.10);
      color: var(--txt);
      border:1px solid rgba(255,255,255,.12);
      border-radius:12px;
      padding:8px 10px;
      cursor:pointer;
      font-size:12px;
      font-weight:700;
    }
    .close:active{transform: translateY(1px)}
    .vwrap{
      position:relative;
      width:100%;
      aspect-ratio: 16 / 9;
      background:#000;
    }
    video{
      width:100%;
      height:100%;
      display:block;
      object-fit:contain;
      background:#000;
    }

    /* Responsive */
    @media (max-width: 920px){
      .grid{grid-template-columns: repeat(2, minmax(0,1fr));}
      .hint{display:none}
    }
    @media (max-width: 560px){
      .grid{grid-template-columns: 1fr;}
      .wrap{padding:12px 12px 18px}
      .hero{margin:8px 0 10px}
      .hero h1{font-size:16px}
      .btxt span{display:none}
      .filetag{max-width:55%}
    }
  </style>
</head>
<body>
  <!-- Top -->
  <div class="top">
    <div class="topin">
      <div class="brand" title="BookWide">
        <div class="logo" aria-hidden="true"></div>
        <div class="btxt">
          <strong>BookWide</strong>
          <span>服務導覽｜先試看再決定</span>
        </div>
      </div>
      <div class="nav">
        <a class="chip" href="/" title="回首頁">
          回首頁
        </a>
        <button class="chip" id="btnScroll" title="往下看影片">
          <span class="dot" aria-hidden="true"></span>
          影片清單
        </button>
      </div>
    </div>
  </div>

  <div class="wrap" id="top">
    <div class="hero">
      <div>
        <h1>你可以怎麼用 BookWide</h1>
        <p>不必註冊也能先看：每支影片都在同一頁開啟播放（手機也順，不會亂跳頁）。</p>
      </div>
      <div class="hint">提示：點「立即試看」會彈出播放視窗</div>
    </div>

    <div class="grid" id="list"></div>

    <div class="foot">
      <div class="box">
        <b>建議看法：</b>先看一支你最有感的，再決定要不要註冊 / 訂閱。
        <div class="mini">
          <span class="pill" data-open="0">從「老師講解」開始</span>
          <span class="pill" data-open="2">想練口說看 Talk</span>
          <span class="pill" data-open="1">想看互動練習看 AI</span>
        </div>
      </div>
      <div class="box">
        <b>注意：</b>若你是手機瀏覽，建議全螢幕觀看（播放器右下角）。
        <div class="mini">
          <a class="pill" href="/pricing.html">看方案</a>
          <a class="pill" href="/account/login.html">登入</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-label="影片播放視窗">
    <div class="panel">
      <div class="mhead">
        <div class="title">
          <strong id="mTitle">影片</strong>
          <span id="mSub">BookWide</span>
        </div>
        <button class="close" id="btnClose" type="button">關閉</button>
      </div>
      <div class="vwrap">
        <video id="player" controls playsinline preload="metadata"></video>
      </div>
    </div>
  </div>

  <script>
    // === 影片清單（你可直接改 URL / 標題 / 檔名） ===
    const VIDEOS = [
      {
        title: "智慧化複習（老師講解）",
        desc: "用最省力的節奏安排複習：讓你不是「背過」，而是「記住」。",
        file: "GBH_00-14_00-34_TeacherExplain_v1.mp4",
        url: "https://jeajrwpmrgczimmrflxo.supabase.co/storage/v1/object/public/ads/home/GBH_00-14_00-34_TeacherExplain_v1.mp4",
        tone: "primary",
        icon: "bulb"
      },
      {
        title: "多元互動練習（AI）",
        desc: "字幕 / 測驗 / 單字卡：把「看懂」變成「記住」。",
        file: "DEMO_AI.mp4",
        url: "https://jeajrwpmrgczimmrflxo.supabase.co/storage/v1/object/public/ads/home/DEMO_AI.mp4",
        tone: "secondary",
        icon: "puzzle"
      },
      {
        title: "AI 口說助教（Talk）",
        desc: "不用找人陪練：把「腦中懂」變成「口中說得出來」。",
        file: "DEMO_talk.mp4",
        url: "https://jeajrwpmrgczimmrflxo.supabase.co/storage/v1/object/public/ads/home/DEMO_talk.mp4",
        tone: "secondary",
        icon: "mic"
      }
    ];

    const $ = (s)=>document.querySelector(s);

    function iconSvg(name){
      if(name==="bulb") return `
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M9 21h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M10 17h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M12 3a7 7 0 0 0-4 12c.6.5 1 1.3 1 2h6c0-.7.4-1.5 1-2A7 7 0 0 0 12 3Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        </svg>`;
      if(name==="puzzle") return `
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M8 3h3a2 2 0 1 0 4 0h3v5a2 2 0 1 1 0 4v5h-5a2 2 0 1 0-4 0H3v-3a2 2 0 1 0 0-4V3h5Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        </svg>`;
      return `
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M12 14a3 3 0 0 0 3-3V7a3 3 0 0 0-6 0v4a3 3 0 0 0 3 3Z" stroke="currentColor" stroke-width="2"/>
          <path d="M19 11a7 7 0 0 1-14 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M12 18v3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>`;
    }

    function cardHtml(v, idx){
      const btnClass = v.tone === "primary" ? "btn" : "btn secondary";
      const btnText  = "立即試看";
      return `
        <div class="card">
          <div class="row">
            <div class="ic">${iconSvg(v.icon || "mic")}</div>
            <div class="t">
              <strong>${escapeHtml(v.title)}</strong>
              <span>${escapeHtml(v.desc)}</span>
            </div>
          </div>
          <div class="btns">
            <button class="${btnClass}" type="button" data-open="${idx}">
              ▶ ${btnText}
            </button>
            <div class="filetag" title="${escapeHtml(v.file)}">${escapeHtml(v.file)}</div>
          </div>
        </div>
      `;
    }

    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#39;");
    }

    // Render
    const list = $("#list");
    list.innerHTML = VIDEOS.map(cardHtml).join("");

    // Modal controls
    const modal  = $("#modal");
    const player = $("#player");
    const mTitle = $("#mTitle");
    const mSub   = $("#mSub");

    function openVideo(idx){
      const v = VIDEOS[idx];
      if(!v) return;
      mTitle.textContent = v.title || "影片";
      mSub.textContent   = v.file || "BookWide";
      player.pause();
      player.removeAttribute("src");
      player.load();

      player.src = v.url;
      modal.classList.add("show");

      // Autoplay (若瀏覽器允許)
      const p = player.play();
      if(p && typeof p.catch === "function") p.catch(()=>{});
    }

    function closeVideo(){
      modal.classList.remove("show");
      try{ player.pause(); }catch(e){}
      player.removeAttribute("src");
      player.load();
    }

    document.addEventListener("click", (e)=>{
      const t = e.target.closest("[data-open]");
      if(t){
        const idx = Number(t.getAttribute("data-open"));
        openVideo(idx);
      }
    });

    $("#btnClose").addEventListener("click", closeVideo);
    modal.addEventListener("click", (e)=>{
      if(e.target === modal) closeVideo();
    });

    document.addEventListener("keydown", (e)=>{
      if(e.key === "Escape") closeVideo();
    });

    $("#btnScroll").addEventListener("click", ()=>{
      document.querySelector("#list").scrollIntoView({behavior:"smooth", block:"start"});
    });

    // Foot pills quick open
    document.querySelectorAll(".pill[data-open]").forEach(el=>{
      el.addEventListener("click", ()=>{
        openVideo(Number(el.getAttribute("data-open")));
      });
    });
  </script>
</body>
</html>
