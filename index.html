<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BookWide | 學習影片清單</title>
<style>
  :root{
    --bg:#0f172a;--panel:#111827;--panel-2:#0b1220;--muted:#94a3b8;--text:#e5e7eb;
    --brand:#60a5fa;--chip:#172554;--chip-on:#1d4ed8;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:linear-gradient(180deg,var(--bg),#0b1022 60%);color:var(--text);
       font:16px/1.6 system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;}
  a{color:inherit;text-decoration:none}
  .container{max-width:1200px;margin:0 auto;padding:24px}
  header.topbar{position:sticky;top:0;z-index:50;background:rgba(10,14,28,.65);backdrop-filter:blur(8px);border-bottom:1px solid #1f2937}
  header .wrap{max-width:1200px;margin:0 auto;padding:14px 24px;display:flex;align-items:center;gap:16px}
  .logo{font-weight:800;letter-spacing:.5px}.logo b{color:var(--brand)} .spacer{flex:1}
  .user-menu{position:relative}
  .user-trigger{background:#0b1220;border:1px solid #1f2937;color:var(--text);border-radius:10px;padding:8px 12px;cursor:pointer;min-width:120px;text-align:center}
  .user-trigger:hover{border-color:#334155}
  .user-dropdown{position:absolute;right:0;top:48px;width:260px;background:#0b1220;border:1px solid #1f2937;border-radius:12px;box-shadow:0 20px 40px rgba(0,0,0,.35);padding:8px;display:none}
  .user-dropdown.open{display:block}
  .user-dropdown ul{margin:0;padding:6px 0;list-style:none}
  .user-dropdown li{padding:2px 6px}
  .user-dropdown a{display:block;padding:10px 12px;border-radius:10px;color:var(--text);border:1px solid transparent}
  .user-dropdown a:hover{background:#0e162a;border-color:#1f2a44}
  .hero{padding:28px 24px 10px 24px}
  .hero h1{margin:0 0 6px;font-size:28px}.hero p{margin:0;color:#9ca3af}
  .btn{background:#0b1220;border:1px solid #1e293b;color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer}
  .btn:hover{border-color:#334155}
  .btn-primary{background:#172554;border-color:#1d4ed8}.btn-primary:hover{background:#1d4ed8}
  .btn-group{display:flex;gap:12px;margin-top:14px}
  .features{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin:10px 0 16px}
  .feature{background:#0b1220;border:1px solid #1f2937;border-radius:14px;padding:14px;height:110px}
  .feature h3{margin:0 0 6px;font-size:16px;display:flex;align-items:center;gap:8px}
  .feature p{margin:0;color:#94a3b8;font-size:14px}
  .chips{display:flex;gap:10px;margin:6px 0 10px}
  .chip{background:var(--chip);color:#cbd5e1;border:1px solid #1e293b;border-radius:18px;padding:8px 14px;cursor:pointer}
  .chip[aria-pressed="true"]{background:var(--chip-on);color:white}
  .search{display:flex;gap:10px;margin:10px 0 10px}
  .search input{flex:1;background:#0b1220;border:1px solid #1f2937;border-radius:12px;padding:12px 14px;color:var(--text)}
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:12px 0 60px}
  .card{display:block;background:#0b1220;border:1px solid #1f2937;border-radius:14px;overflow:hidden}
  .thumb-wrap{aspect-ratio:16/9;background:#0e162a;display:flex;align-items:center;justify-content:center}
  .thumb{width:100%;height:100%;object-fit:cover;display:block}
  .meta{padding:12px}.meta .tags{color:#9ca3af;font-size:13px}.meta .title{margin:4px 0 0;font-size:18px;font-weight:700;line-height:1.35}
  #btnLINE{position:fixed;right:18px;bottom:18px;width:52px;height:52px;border-radius:50%;display:grid;place-items:center;background:#22c55e;border:0;cursor:pointer;box-shadow:0 10px 24px rgba(0,0,0,.35)}
  #btnLINE img{width:26px;height:26px;filter:invert(1)}
  @media (max-width:960px){.features{grid-template-columns:1fr 1fr}.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<header class="topbar">
  <div class="wrap">
    <a class="logo" href="./index.html">Book<b>Wide</b></a>
    <div class="spacer"></div>
    <div id="userMenu" class="user-menu" data-fixed="true">
      <button id="userTrigger" class="user-trigger" aria-expanded="false"><span id="userName">登入</span></button>
      <div id="userDropdown" class="user-dropdown" role="menu" aria-label="使用者選單">
        <ul>
          <li><a href="#">方案價格</a></li>
          <li><a href="#">個人資料</a></li>
          <li><a href="#">我的訂閱</a></li>
          <li><a href="#">學習控制台</a></li>
          <li><a href="#">推廣分潤</a></li>
          <li><a href="#" id="signOutBtn">登出</a></li>
        </ul>
      </div>
    </div>
  </div>
</header>

<main class="container">
  <section class="hero">
    <h1>看影片、做測驗、背單字 —— 一頁完成</h1>
    <p>BookWide 用 <b>故事・音樂・電影・新聞・專業主題</b> 帶你學英文。逐句播放、雙語字幕、單字卡與分區測驗，完整練到聽讀寫。</p>
    <div class="btn-group">
      <a class="btn btn-primary" href="./player.html?cat=story&slug=mid-autumn">試看：故事〈Mid‑Autumn〉</a>
      <a class="btn" href="#">瀏覽教材</a>
    </div>
  </section>

  <section id="fixedFeatures" class="features" data-fixed="true" aria-label="BookWide 功能">
    <article class="feature"><h3>🧠 逐句播放</h3><p>一鍵回放／下一句，跟著文本走，不迷路。</p></article>
    <article class="feature"><h3>🈶 雙語字幕</h3><p>英文在上、中文在下，手機也能長句不斷行。</p></article>
    <article class="feature"><h3>🧪 分區測驗</h3><p>Vocabulary / Grammar / Reading / Mixed 四分區評量。</p></article>
    <article class="feature"><h3>🗂 單字卡</h3><p>遮字填空、朗讀、快速跳段，真正用到的字才記得住。</p></article>
  </section>

  <div class="chips" role="tablist" aria-label="影片類別">
    <button class="chip" aria-pressed="true" data-cat="all">全部</button>
    <button class="chip" aria-pressed="false" data-cat="story">故事</button>
    <button class="chip" aria-pressed="false" data-cat="music">音樂</button>
    <button class="chip" aria-pressed="false" data-cat="movie">電影</button>
    <button class="chip" aria-pressed="false" data-cat="news">新聞</button>
    <button class="chip" aria-pressed="false" data-cat="pro">專業行業</button>
  </div>

  <div class="search">
    <input id="kw" type="search" placeholder="搜尋標題、關鍵字…（例：CNC／BBC／survival）" />
    <button id="doSearch" class="btn">搜尋</button>
  </div>

  <section class="grid" id="grid" aria-live="polite"></section>
</main>

<a id="btnLINE" href="https://line.me/R/ti/p/@bookwide" target="_blank" aria-label="聯絡我們（LINE）">
  <img src="https://img.icons8.com/ios-filled/50/ffffff/line-me.png" alt="LINE">
</a>

<script>
(function userMenuInit(){
  const $=(s,el=document)=>el.querySelector(s);
  const menu=$('#userMenu'); if(!menu) return;
  const trigger=$('#userTrigger',menu), dropdown=$('#userDropdown',menu);
  const name=$('#userName',menu), signOutBtn=$('#signOutBtn',menu);
  function toggle(open){ const isOpen=(open!==undefined)?open:!dropdown.classList.contains('open'); dropdown.classList.toggle('open',isOpen); trigger.setAttribute('aria-expanded',String(isOpen));}
  trigger.addEventListener('click',()=>toggle());
  document.addEventListener('click',(e)=>{ if(!menu.contains(e.target)) toggle(false);});
  document.addEventListener('keydown',(e)=>{ if(e.key==='Escape') toggle(false);});
  try{ if(window.supabase){ window.supabase.auth.getUser().then(({data})=>{ const email=data?.user?.email; if(email) name.textContent=email;}); signOutBtn.addEventListener('click',async (e)=>{e.preventDefault();try{await window.supabase.auth.signOut();location.reload();}catch(err){alert('登出失敗');}}); return; } }catch(err){}
  signOutBtn.textContent='登入'; signOutBtn.addEventListener('click',(e)=>{e.preventDefault(); alert('此範例尚未串接登入服務，請在專案加入 Supabase 後呼叫 signInWithOAuth。');});
})();

const CATALOG=[
  {cat:'story',slug:'mid-autumn',title:'Mid‑Autumn Festival',level:'A2‑B1',minutes:2,thumb:'./videos/story/mid-autumn.jpg'},
  {cat:'story',slug:'houyi',title:'Hou Yi Shoots the Suns',level:'A2‑B1',minutes:3,thumb:'./videos/movic/houyi.jpg'},
  {cat:'story',slug:'lantern',title:'Lantern Festival',level:'A2‑B1',minutes:2,thumb:'./videos/story/lantern.jpg'},
  {cat:'music',slug:'see-you-again',title:'See You Again',level:'Intermediate',minutes:4,thumb:'./videos/music/houyi.jpg'}
];
(function listUI(){
  const $=(s,el=document)=>el.querySelector(s), $$=(s,el=document)=>[...el.querySelectorAll(s)];
  const grid=$('#grid'), chips=$$('.chip'), kwInput=$('#kw'); $('#doSearch').addEventListener('click',apply);
  chips.forEach(ch=>ch.addEventListener('click',()=>{chips.forEach(x=>x.setAttribute('aria-pressed','false'));ch.setAttribute('aria-pressed','true');apply();}));
  function cardHTML(it){const url=`./player.html?cat=${encodeURIComponent(it.cat)}&slug=${encodeURIComponent(it.slug)}`;const thumb=it.thumb||'https://fakeimg.pl/800x450/?text=thumbnail';return `<a class="card" href="${url}"><div class="thumb-wrap"><img class="thumb" src="${thumb}" alt=""></div><div class="meta"><div class="tags">${it.cat}・程度 ${it.level||'-'}・${it.minutes||'-'}m</div><div class="title">${it.title}</div></div></a>`;}
  function render(list){grid.innerHTML=list.map(cardHTML).join('');}
  function apply(){const active=(chips.find(x=>x.getAttribute('aria-pressed')==='true')||{}).dataset?.cat||'all';const kw=(kwInput.value||'').trim().toLowerCase();const list=CATALOG.filter(x=>(active==='all'||x.cat===active)&&(!kw||(x.title.toLowerCase().includes(kw)||x.slug.includes(kw))));render(list);}
  apply();
})();
</script>
</body></html>




